Tue Mar 15 12:46:47 2005  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document.c: (ev_document_set_page): update the page
	cache.  Need to clean this up.
	
	* backend/ev-jobs.c: (ev_job_render_run): Set the page before
	rendering.

	* shell/ev-pixbuf-cache.c: (dispose_cache_job_info),
	(move_one_job), (ev_pixbuf_cache_update_range),
	(ev_pixbuf_cache_set_page_range), (ev_pixbuf_cache_get_pixbuf):
	Clean up the cache.

	* shell/ev-view.c: (expose_bin_window), (set_document_page):

Mon Mar 14 02:23:16 2005  Jonathan Blandford  <jrb@redhat.com>
	
	* shell/ev-page-cache.[ch]: move to the backend.

	* backend/ev-jobs.[ch]: add a finished flag to let us short
	circuit rendering.  It does not appear to be fully working yet.

	* backend/ev-page-cache.h (get_size): Canonicalize the scaling
	here.  Getting the size outside of the scale is meaningless,
	anyway.

	* shell/ev-pixbuf-cache.[hc]: New class to act as a pixbuf cache.
	It keeps a bunch of messy code out of ev-view.c, but is
	essentially just part of that code base.  It doesn't handle ranges
	quite yet, but that's coming soon.  As soon as ranges are done, we
	have all the pieces in place to do continuous scrolling and
	side-by-side displays.

2005-03-11  Bryan Clark  <clarkbw@cvs.gnome.org>

	* TODO: Updated by moving two items to TODONE

2005-03-09  Marco Pesenti Gritti  <marco@gnome.org>

	* NEWS:
	* backend/ev-document-thumbnails.c:
	(ev_document_thumbnails_get_thumbnail):
	* backend/ev-document-thumbnails.h:
	* backend/ev-jobs.c: (ev_job_thumbnail_run):
	* configure.ac:
	* pdf/pdf-document.cc:
	* pixbuf/pixbuf-document.c:
	(pixbuf_document_thumbnails_get_thumbnail):
	* ps/Makefile.am:
	* ps/gsdefaults.c: (gtk_gs_defaults_get_interpreter_cmd),
	(gtk_gs_defaults_get_alpha_parameters),
	(gtk_gs_defaults_get_ungzip_cmd),
	(gtk_gs_defaults_get_unbzip2_cmd):
	* ps/gsdefaults.h:
	* ps/ps-document.c: (ps_document_init), (ps_document_class_init),
	(ps_document_get_orientation), (document_load),
	(ps_document_goto_page), (ps_document_set_page_size):
	* ps/ps-document.h:
	* shell/ev-sidebar-thumbnails.c: (do_one_iteration):
	* thumbnailer/evince-thumbnailer.c: (evince_thumbnail_pngenc_get),
	(main):
	* thumbnailer/evince-thumbnailer.schemas:

	Merge changes from head and resolve conflicts

Wed Mar  9 13:20:58 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-view.c (ev_view_set_document): No longer connect a
	resize to the idle.  This makes the resizing code work now!

Wed Mar  9 00:40:39 2005  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document.c (LOG): remove fake logging.

Wed Mar  9 00:37:54 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-view.c: More work on threads.  Check point to test some
	code.

Sun Mar  6 23:09:57 2005  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document.c (ev_document_render_pixbuf): New
	implementation.  Really a proof of concept.  It does render much
	faster, though.  It also g_assert()s on any non-pdf backend and is
	a bit racy.

	* shell/ev-view.c: Hack up a little to use new rendering
	interface.  Racy and buggy.  But more responsive.

Sat Mar  5 18:04:35 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar-thumbnails.c: Disable old idle-based
	thumbnailing code in favor of threaded code.

	* backend/ev-job-queue.[ch]: Initial implementation of the job
	queue.

	* backend/ev-jobs.[ch]: Job objects.  Pretty uninteresting right
	now.

	* backend/ev-document*: Add locks.  This is pretty wrong right
	now, but we can get away with it.

2005-03-03  Fernando Herrera  <fherrera@onirica.com>

	* thumbnailer/evince-thumbnailer.c: (evince_thumbnail_pngenc_get):
	take thumbnails from page "0" instead of "1". Added a copyright header.

2005-03-03  Jens Granseuer  <jensgr@gmx.net>

	* ps/ps-document.c: (set_up_page), (start_interpreter):

	Make it C89 compliant

2005-03-03  Marco Pesenti Gritti  <marco@gnome.org>

	* Makefile.am:
	* configure.ac:
	* pdf/.cvsignore:
	* pdf/pdf-document.cc:
	* thumbnailer/Makefile.am:
	* thumbnailer/evince-thumbnailer.c: (evince_thumbnail_pngenc_get),
	(main):
	* thumbnailer/evince-thumbnailer.schemas:
	* thumbnailer/pdf-icon.png:

	Add a nautilus thumbnailer.
	Based on patch by Fernando Herrera <fherrera@onirica.com>.

2005-03-02  Marco Pesenti Gritti  <marco@gnome.org>

	* NEWS:
	* configure.ac:
	* po/POTFILES.in:

	Release 0.1.6

2005-03-01  Kristian HÃ¸gsberg  <krh@redhat.com>

	Use poppler instead of including xpdf source code.  Poppler is a
	fork of xpdf to build it as a shared library. See
	http://freedesktop.org/wiki/Software/poppler.

	* pdf/xpdf/*, pdf/goo/*, pdf/splash/*, pdf/fofi/*: Remove included
	xpdf fork.
	
	* pdf/Makefile.am: Build libpdfdocument.a here.
	
	* pdf/GDKSplashOutputDev.cc:
	* pdf/GDKSplashOutputDev.h:
	* pdf/GnomeVFSStream.cc:
	* pdf/GnomeVFSStream.h:
	* pdf-document.cc:
	* pdf-document.h:
	* test-gdk-output-dev.cc
	* Thumb.cc:
	* Thumb.h: Pull these files out of pdf/xpdf and adjust to compile
	against poppler.

2005-02-28  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-sidebar-links.c: (ev_sidebar_links_clear_document):

	Clear idle stack before unsetting the document

2005-02-28  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (ps_document_widget_event),
	(ps_document_set_target), (ps_document_finalize),
	(ps_document_get_page):

	Disconnect the widget event signal on finalize.
	Some code cleanups.

2005-02-28  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (set_up_page):

	If there is no bpixmap create one, even if size
	is not changed.

2005-02-28  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (ps_document_init), (ps_document_cleanup),
	(set_up_page), (document_load), (ps_document_set_zoom):

	Default page is 0. Calculate size even when we have no
	target yet.

2005-02-28  Carlos Garcia Campos <carlosgc@gnome.org>

	* shell/ev-sidebar.c: expand the selection widget to be always as
	wide as the sidebar

2005-02-28  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-sidebar-thumbnails.c:
	(ev_sidebar_thumbnails_set_document):

	Clear the list store when setting document

2005-02-28  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-page-action.c: (update_entry), (sync_entry),
	(activate_cb), (entry_size_request_cb), (create_tool_item),
	(connect_proxy):

	Use an entry for the page control instead of spinbuttons

2005-02-28  Marco Pesenti Gritti  <marco@gnome.org>

	* data/evince.schemas.in:

	Correct confusing string

Sun Feb 27 23:00:31 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar-links.c (do_one_iteration): Handle title links
	for real.  Gosh, how long has this been broken.

	* pdf/xpdf/pdf-document.cc (build_link_from_action): add back the
	check for a NULL link.  We crash otherwise.

2005-02-27  Marco Pesenti Gritti  <marco@gnome.org>

	* NEWS:
	* configure.ac:

	Release 0.1.5

2005-02-25  Sebastien Bacher  <seb128@debian.org>

	* configure.ac: add the french translation.

2005-02-25  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-window.c:

	Remove unused header -> fix distcheck

2005-02-25  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-window.c: (update_window_title),
	(ev_window_popup_password_dialog):

	Unescape filename for display

2005-02-25  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:

	In get_page_size deal with rotation. Also
	cleanup the function a bit.

2005-02-25  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:

	Fix crash when opening in new window

2005-02-25  Marco Pesenti Gritti  <marco@gnome.org>

	* configure.ac:

	Check ghostscript >= 7

2005-02-25  Pedro Villavicencio <pvillavi@gnome.cl>

	* shell/ev-window.c:

	Make page width the default sizing mode

2005-02-25  Carlos Garcia Campos <carlosgc@gnome.org>
	    Marco Pesenti Gritti <marco@gnome.org>

	* shell/ev-window.c: Remember the sidebar size

	* data/evince.schemas.in: Add a new gconf key to store the size of
	the sidebar

2005-02-24  Kai Willadsen  <kaiw@itee.uq.edu.au>

	* data/evince-ui.xml:
	* shell/ev-window.c: (update_action_sensitivity),
	(ev_window_cmd_view_reload):
	
	Add a "Reload" action and menu entry

Thu Feb 24 23:07:33 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-window.c (hide_sidebar_and_actions): Hide the sidebar
	iff the type doesn't support thumbnailing and indexing.

2005-02-24  Martin Kretzschmar  <martink@gnome.org>

	* configure.ac (ALL_LINGUAS): Added "zh_TW" (Traditional Chinese).

2005-02-24  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/splash/Splash.cc:

	Port fix for a crasher from kde bug
	http://bugs.kde.org/show_bug.cgi?id=97131

2005-02-24  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:

	Return a link even if it's of an unrecognized
	type. Otherwise we go in an infinte cycle.

2005-02-24  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-window.c: (update_sizing_buttons), (update_view_size),
	(size_allocate_cb), (ev_window_set_sizing_mode):

	Update size when switching mode

2005-02-24  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-window.c: (ev_window_cmd_view_best_fit),
	(ev_window_cmd_view_page_width), (update_sizing_buttons),
	(ev_window_cmd_view_normal_size):

	Fix size toggle buttons behavior

2005-02-24  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_get_offsets), (view_rect_to_doc_rect),
	(doc_rect_to_view_rect), (ev_view_size_allocate),
	(expose_bin_window), (ev_view_select_all), (page_changed_callback),
	(scale_changed_callback):

	Do not cache offsets in size_allocate.

2005-02-24  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_size_allocate):

	Calculate offsets before calling the parent
	class (which does a redraw)

2005-02-24  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:

	Fix a crasher on exit. Unused code, put a TODO

2005-02-24  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_class_init),
	(ev_document_page_changed), (ev_document_scale_changed):
	* backend/ev-document.h:

	Separate page/scale notifications

	* pdf/xpdf/pdf-document.cc:

	Emit the new signals.
	Do not display the pdf page in _render, do it
	when scale/page are requested.

	* ps/ps-document.c: (ps_document_set_zoom),
	(ps_document_widget_event):
	* ps/ps-document.h:

	Emit the new signals.

	* shell/ev-view.c: (ev_view_size_request), (expose_bin_window),
	(ev_view_init), (page_changed_callback), (scale_changed_callback),
	(ev_view_set_document), (ev_view_zoom), (ev_view_zoom_in),
	(ev_view_zoom_out), (size_to_zoom_factor), (ev_view_set_size):
	* shell/ev-view.h:
	* shell/ev-window.c: (ev_window_cmd_view_normal_size),
	(ev_window_cmd_view_page_width), (size_allocate_cb),
	(ev_window_set_sizing_mode):

	Rework sizing to be pixel based.
	There are bugs but should be already way better.

2005-02-23  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-window.c: (ev_window_init):

	Do not allow to shrink sidebar smaller then
	child requisition

2005-02-23  Carlos Garcia Campos <carlosgc@gnome.org> 

	* shell/ev-sidebar.[ch]
	* shell/ev-window.c:

	Improved sidebar widget. Fixes #166683

2005-02-23  Tommi Vainikainen  <thv@iki.fi>

	* shell/ev-view.c (update_find_status_message): Give translators
	more flexibility with ngettext plural handling.

Mon Feb 21 17:52:08 2005  Jonathan Blandford  <jrb@redhat.com>

	* pdf/xpdf/pdf-document.cc (pdf_document_get_page_size): Patch
	from Crispin Flowerday <gnome@flowerday.cx> to avoid rendering the
	page when we get the page size.

2005-02-21  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (ps_document_set_page), (ps_document_get_page):

	ps pages are 0 based, convert 

2005-02-21  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (ps_document_class_init), (ps_document_load):

	Initialize correct parent class. Set GError on document load

2005-02-21  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:

	Fixup selection offset calculation

	* shell/ev-view.c: (view_rect_to_doc_rect),
	(doc_rect_to_view_rect), (ev_view_size_allocate),
	(expose_bin_window), (ev_view_select_all), (ev_view_copy),
	(ev_view_primary_get_cb), (ev_view_motion_notify_event):

	Store selection as document relative, so that zooming
	and offset changing doesnt break it.

2005-02-21  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_best_fit):

	Do not try to best fit if the view is not realized

2005-02-20  Kostas Papadimas <pkst@gnome.org>
          
        * configure.ac (ALL_LINGUAS): Added "el" (Greek).

Fri Feb 18 16:06:39 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-window.c (ev_window_focus_in_event): missed a case.

Fri Feb 18 15:32:57 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-window.c: Change the fullscreen toolbar to always be in
	the popup window.  That prevents it resizing when in full screen
	mode.

	* shell/ev-view.c: Change Zoom epsilon as a bad hack to avoid
	multiple rerenders.  This pretty much sucks.

	* data/evince-ui.xml: Change the fullscreen toolbar to include the
	rest of the toolbar.

2005-02-18  Tommi Vainikainen  <thv@iki.fi>

	* configure.ac (ALL_LINGUAS): Added "fi" (Finnish).

2005-02-17  Alexander Shopov  <ash@contact.bg>

	* configure.in (ALL_LINGUAS): Added "bg" (Bulgarian)

2005-02-16  Bryan Clark  <clarkbw@cvs.gnome.org>

	* shell/ev-window.c: added ellipsis to Print item. Fixes bug 166915

2005-02-16  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_realize), (highlight_find_results),
	(ev_view_create_invisible_cursor), (ev_view_set_cursor),
	(set_document_page), (document_changed_callback),
	(ev_view_set_document), (ev_view_find_previous),
	(ev_view_hide_cursor), (ev_view_show_cursor):
	* shell/ev-view.h:
	* shell/ev-window.c: (update_chrome_visibility),
	(fullscreen_timeout_cb), (fullscreen_set_timeout),
	(fullscreen_clear_timeout), (fullscreen_motion_notify_cb),
	(fullscreen_leave_notify_cb), (ev_window_fullscreen),
	(ev_window_unfullscreen):
	* shell/main.c: (main):

	Automatically hide the fullscreen button.
	Patch by Kristian HÃ¸gsberg <krh@redhat.com>

2005-02-16  Vincent Noel  <vnoel@cox.net>

	* shell/main.c (main): Specify an icon for the window. Patch by
	Jaap A. Haitsma. Fixes #166177.

Wed Feb 16 06:30:13 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-view.c (ev_view_realize): get rid of the black flash.

Tue Feb 15 22:27:13 2005  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document-misc.h:
	* backend/ev-document-misc.c:
	(ev_document_misc_get_page_border_size),
	(ev_document_misc_paint_one_page): New function to canonicalize
	sizing/painting a border.

	* shell/Makefile.am: Remove ev-page-view.c entirely as it's not
	used.

	* pdf/xpdf/pdf-document.cc: use new function

	* shell/ev-view.c: (ev_view_size_request), (expose_bin_window),
	(ev_view_init), (ev_view_set_mode), (ev_view_zoom),
	(ev_view_best_fit), (ev_view_fit_width): * shell/ev-view.h: *
	shell/ev-window.c: (update_sizing_buttons),
	(ev_window_setup_document), (ev_window_cmd_view_zoom_in),
	(ev_window_cmd_view_zoom_out), (ev_window_cmd_view_best_fit),
	(ev_window_cmd_view_page_width), (size_allocate_cb),
	(ev_window_set_sizing_mode), (ev_window_init): make the "best fit"
	and "fit width" values act as toggle buttons so they stay
	toggled.  It's not 100% perfect, and it's a little slow, but it's
	good enough to commit I think.

2005-02-15  David Lodge  <dave@cirt.net>

	* configure.ac (ALL_LINGUAS): Added "en_GB" (English (British)).

2005-02-15  Martin Kretzschmar  <martink@gnome.org>

	* shell/ev-window.c (update_window_title): replace newlines in
	the title by spaces. Bug #166107.

2005-02-14  Martin Kretzschmar  <martink@gnome.org>

	* shell/ev-view.c (ev_view_best_fit, ev_view_fit_width): add
	parameters providing allocation width and height without
	scrollbars and width of a possible vertical scrollbar. With this
	additional information the functions can work as
	intended. Unfortunately they're not idempotent. We should
	transform these commands to toggles. Fixes Bug #164976
	Initial patch by Stephane Loeuillet, then heavily modified.

	* shell/ev-view.h: update prototypes.

	* shell/ev-window.c (ev_window_cmd_view_best_fit)
	(ev_window_cmd_view_page_width): provide EvView fit functions with
	all the information they need. Formulas to calculate this
	information taken from GtkScrolledWindow.

2005-02-14  Crispin Flowerday  <gnome@flowerday.cx>

	* shell/ev-sidebar-thumbnails.c: Ensure that after we have
	created a thumbnail, the list store is updated to know
	that the thumbnail is set. Fixes bug #166792

2005-02-11  Bryan Clark  <clarkbw@cvs.gnome.org>

	* shell/ev-window.c: fixed typo, closes bug 166897

	* TODO: updated TODO with bug numbers that are relevant

2005-02-09  Carlos Garcia Campos <carlosgc@gnome.org>

	* shell/ev-window.c: Support for DnD of files. Fixes #164813

2005-02-09  Vincent Noel  <vnoel@cox.net>

	* shell/ev-window.c: (set_action_properties): Set the "Previous"
	and "Next" toolbar buttons as important to make them stand out.

2005-02-09  Marco Pesenti Gritti  <marco@gnome.org>

	* lib/ev-debug.c:
	* lib/ev-debug.h:
	* ps/ps-document.c: (ps_document_finalize), (set_up_page),
	(start_interpreter), (stop_interpreter), (document_load),
	(ps_document_next_page), (ps_document_goto_page),
	(ps_document_set_page_size), (ps_document_widget_event),
	(ps_document_render):
	* shell/ev-page-view.c: (ev_page_view_dispose):
	* shell/ev-view.c: (ev_view_finalize), (expose_bin_window):

	Fix compilation on non-gcc platforms

2005-02-09  Marco Pesenti Gritti  <marco@gnome.org>

	* NEWS:
	* configure.ac:

	Release 0.1.4

	* pdf/xpdf/Catalog.cc:
	* pdf/xpdf/XRef.cc:

	Fix the fix for CAN-2004-0888

2005-02-09  Luca Ferretti <elle.uca@libero.it>

	* data/Makefile.am:
	* data/evince-ui.xml:
	* shell/ev-stock-icons.c: (ev_stock_icons_init):
	* shell/ev-stock-icons.h:
	* shell/ev-window.c: (update_action_sensitivity),
	(ev_window_cmd_go_previous_page), (ev_window_cmd_go_next_page),
	(set_action_properties):

	Improve toolbar layout/icons

2005-02-08  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:

	Add warnings about unimplemented/unknown link
	types.

2005-02-07  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (set_up_page):

	Log gs property

2005-02-07  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (start_interpreter):

	Log gs env var

2005-02-07  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-page-view.c: (ev_page_view_dispose):
	* shell/ev-view.c: (ev_view_finalize):
	* shell/ev-window.c: (ev_window_setup_document),
	(ev_window_dispose), (ev_window_init):

	Solve more refs issues.

	I commented out the page_view initialization for now:
	it was never destroyed (because it's never added
	to a container). Because of that we was leaking
	gs processes. Couldnt think to a clean fix.
	We need to figure this out, password view has the
	same issue probably.

2005-02-07  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (ps_document_finalize),
	(ps_document_get_n_pages), (ps_document_get_page):

	Some cleanups, stop the interpreter on finalize

	* shell/ev-page-view.c: (ev_page_view_dispose),
	(ev_page_view_class_init):

	Release our reference on the document

2005-02-07  Marco Pesenti Gritti  <marco@gnome.org>

	* Makefile.am:
	* configure.ac:
	* doc/debugging.txt:
	* lib/.cvsignore:
	* lib/Makefile.am:
	* lib/ev-debug.c: (log_module), (trap_handler), (ev_debug_init),
	(ev_profiler_new), (ev_should_profile), (ev_profiler_dump),
	(ev_profiler_free), (ev_profiler_start), (ev_profiler_stop):
	* lib/ev-debug.h:

	Add debugging helpers

	* ps/Makefile.am:
	* ps/ps-document.c: (set_up_page), (start_interpreter),
	(stop_interpreter), (document_load), (ps_document_next_page),
	(ps_document_goto_page), (ps_document_set_page_size),
	(ps_document_widget_event), (ps_document_render):
	* shell/Makefile.am:
	* shell/ev-view.c: (expose_bin_window):
	* shell/main.c: (main):

	Add some logs
	
2005-02-07  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (ps_document_widget_event):

	Initialize message_window, this should make ps
	rendering really work! (Never noticed because I was
	testing with a ps that is causing gs to exit every time!)

2005-02-07  Bryan Clark  <clarkbw@cvs.gnome.org>

	* data/evince.schemas.in: updated simple error in applyto closing tag

2005-02-07  Christian Persch  <chpe@cvs.gnome.org>

	* Makefile.am:
	* configure.ac:
	* data/.cvsignore:
	* data/Makefile.am:
	* data/evince-ui.xml:
	A data/evince.schemas.in:
	* po/POTFILES.in:
	* shell/ev-stock-icons.c: (ev_stock_icons_init):
	* shell/ev-stock-icons.h:
	* shell/ev-window.c: (update_chrome_visibility),
	(update_chrome_flag), (ev_window_cmd_edit_find),
	(ev_window_update_fullscreen_popup), (ev_window_fullscreen),
	(ev_window_unfullscreen), (ev_window_focus_in_event),
	(ev_window_focus_out_event), (ev_window_cmd_leave_fullscreen),
	(ev_window_view_toolbar_cb), (ev_window_view_statusbar_cb),
	(ev_window_view_sidebar_cb), (find_bar_close_cb),
	(ev_window_dispose), (ev_window_class_init),
	(set_action_properties), (set_chrome_actions), (load_chrome),
	(ev_window_init):

	Implement fullscreen mode changes from bug #164776.
	Also implement persistent chrome toggles.

2005-02-07  Jordi Mallach  <jordi@sindominio.net>

	* configure.ac (ALL_LINGUAS): Added "ca" (Catalan).

2005-02-04  Marco Pesenti Gritti  <marco@gnome.org>

	* NEWS:
	* configure.ac:
	* shell/ev-view.c:

	Add another check for find interface

	Release 0.1.3

2005-02-04  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-application.c: (ev_application_open):
	* shell/ev-window.c: (ev_window_open):

	Open gzipped ps documents

2005-02-04  Marco Pesenti Gritti  <marco@gnome.org>

	* TODO:
	* shell/ev-view.c: (set_document_page):

	Clamp page number, dont try to move to
	not existant pages.

2005-02-04  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document-find.c: (ev_document_find_changed):
	* backend/ev-document-find.h:
	* pdf/xpdf/pdf-document.cc:
	* shell/ev-view.c: (jump_to_find_result), (ev_view_set_document):
	* shell/ev-window.c: (find_bar_search_changed_cb):

	Fix several bugs with find

2005-02-04  Martin Kretzschmar  <martink@gnome.org>

	* shell/ev-sidebar-thumbnails.c
	(ev_sidebar_thumbnails_select_page): do nothing unless we have a
	document. Prevents warning from scroll_to_cell.

2005-02-02  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.ac: Add Â«nbÂ» to ALL_LINGUAS too.

Wed Feb  2 21:13:11 2005  Jonathan Blandford  <jrb@redhat.com>

	* NOTES: New file with some random thoughts.

	* TODO: Update.

	* backend/ev-document-misc.c:
	(ev_document_misc_get_page_border_size): New function to
	canonicalize shadow drawing sizes.  Possibly goofy.

	* shell/ev-view.c: (ev_view_size_request), (set_document_page),
	(ev_view_best_fit), (ev_view_fit_width):
	* pdf/xpdf/pdf-document.cc:
	* pixbuf/pixbuf-document.c: (pixbuf_document_get_page_size):
	* ps/ps-document.c: (ps_document_get_page_size):
	* backend/ev-document-misc.h:
	* backend/ev-document.c: (ev_document_get_page_size):
	* backend/ev-document.h: get_page_size now takes a page number
	parameter.  Made all the backends/frontends honor it.

	* data/evince-ui.xml: Added a multiple-page mode.  Uncomment to
	see.  Doesn't work yet.

	* shell/Makefile.am:
	* shell/ev-page-view.[ch]: New multi-page view.  Really rough.
	Doesn't do anything yet.

	* shell/ev-sidebar-thumbnails.c:
	(ev_sidebar_thumbnails_set_document): [1..n_pages] instead of
	[0..n_pages-1]

	* shell/ev-window.c: (update_action_sensitivity),
	(ev_window_setup_document), (ev_window_set_page_mode),
	(ev_window_page_mode_cb), (ev_window_init): Clean up the
	view-swapping code a bit so we can have multiple views on a
	document.  Add the multi-page view, though it can't be turned on
	yet.

2005-02-01  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-application.c: (ev_application_open):
	* shell/ev-view.c: (expose_bin_window):
	* shell/ev-window.c: (ev_window_open):

	Support eps and check document supports find
	before drawing highlightings in expose.

2005-01-13  Jeff Muizelaar  <jeff@nit.ca>

	* pixbuf/pixbuf-document.c:
	(pixbuf_document_thumbnails_get_dimensions),
	(pixbuf_document_document_thumbnails_iface_init):

	implement get_dimensions

2005-02-01  Marco Pesenti Gritti  <marco@gnome.org>

	* NEWS:
	* configure.ac:

	Release 0.1.2

2005-01-30  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (set_document_page):

	Scroll at the top of the page when changing page

2005-01-30  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_motion_notify_event):

	Do not redraw unnecessarily

2005-01-30  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:
	* shell/ev-view.c: (draw_rubberband), (highlight_find_results),
	(expose_bin_window), (find_changed_cb):

	Yay! find works now... Now to find bugs...

2005-01-30  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document-find.c: (ev_document_find_base_init),
	(ev_document_find_changed):
	* backend/ev-document-find.h:
	* pdf/xpdf/pdf-document.cc:
	* shell/ev-view.c: (draw_rubberband), (highlight_find_results),
	(expose_bin_window), (ev_view_init), (set_document_page),
	(ensure_rectangle_is_visible), (jump_to_find_result),
	(jump_to_find_page), (find_changed_cb), (ev_view_set_document),
	(ev_view_find_next), (ev_view_find_previous):
	* shell/ev-view.h:
	* shell/ev-window.c: (find_bar_previous_cb), (find_bar_next_cb):

	More work on find implementation, mostly there now

2005-01-29  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-backend-marshalers.list:
	* backend/ev-document-find.c: (ev_document_find_base_init),
	(ev_document_find_cancel), (ev_document_find_page_has_results),
	(ev_document_find_get_n_results), (ev_document_find_get_result),
	(ev_document_find_get_progress), (ev_document_find_changed):
	* backend/ev-document-find.h:

	Enanche the find interface to be really able to do
	multi page find.

	* pdf/xpdf/pdf-document.cc:

	Implement

	* shell/ev-view.c: (ev_view_finalize), (highlight_find_results),
	(expose_bin_window), (ev_view_init),
	(ev_view_get_find_status_message), (find_changed_cb),
	(ev_view_set_document), (set_document_page):

	Adapt to the new interface. A few things are regressed sorry,
	I will finish it soon.

2005-01-28  Martin Kretzschmar  <martink@gnome.org>

	* shell/ev-sidebar-thumbnails.c (ev_sidebar_thumbnails_destroy)
	(ev_sidebar_thumbnails_class_init): use G_DEFINE_TYPE-supplied
	ev_sidebar_thumbnails_parent_class variable, don't define another
	parent_class variable.

	* shell/ev-page-action.c (connect_proxy, ev_page_action_finalize)
	(ev_page_action_class_init): ditto.

	* pixbuf/pixbuf-document.c (pixbuf_document_finalize)
	(pixbuf_document_class_init): ditto.

	* backend/ev-link.c (ev_window_dispose, ev_link_class_init):
	ditto.

	* .cvsignore: ignore various valgrind output files.

2005-01-27  Marco Pesenti Gritti  <marco@gnome.org>

	* data/evince-ui.xml:
	* shell/Makefile.am:
	* shell/ev-history.c:
	* shell/ev-history.h:
	* shell/ev-navigation-action.c:
	* shell/ev-navigation-action.h:
	* shell/ev-view.c: (ev_view_finalize), (ev_view_go_to_link),
	(ev_view_set_page), (ev_view_fit_width):
	* shell/ev-view.h:
	* shell/ev-window.c: (update_action_sensitivity),
	(ev_window_setup_document), (register_custom_actions):

	Kill session history

2005-01-27  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-window.c: (update_action_sensitivity):

	Fix inverted up/down buttons

2005-01-27  Martin Kretzschmar  <martink@gnome.org>

	* shell/ev-sidebar-thumbnails.c
	(ev_sidebar_thumbnails_select_page): make sure the selected
	thumbnail stays visible.

2005-01-26  Martin Kretzschmar  <martink@gnome.org>

	* shell/ev-window.c (ev_window_init): add GTK_SHADOW_IN to the
	scrolled window for Federico.

2005-01-26  Ole Laursen  <olau@hardworking.dk>

	* configure.ac: Added "da" (Danish) to ALL_LINGUAS.

2005-01-26  Marco Pesenti Gritti  <marco@gnome.org>

	* configure.ac:
	* pdf/splash/SplashFTFontEngine.cc:

	Fix CID fonts with freetype 2.1.9

2005-01-26  Bryan Clark  <clarkbw@cvs.gnome.org>

	* TODO: added item for desktop icon thumbnailer

Tue Jan 25 00:59:34 2005  Jonathan Blandford  <jrb@redhat.com>

	* pdf/xpdf/pdf-document.cc (pdf_document_get_title): guard against
	unloaded docs when the title is accessed.

	* shell/ev-password-view.[hc]: New widget for displaying password
	state.

	* shell/ev-window.[ch]: Refactor password handling code to handle
	the new view.

2005-01-24  Marco Pesenti Gritti  <marco@gnome.org>

	* NEWS:
	* configure.ac:
	* data/Makefile.am:

	Release 0.1.1

2005-01-23  Stephane LOEUILLET  <stephane.loeuillet@tiscali.fr>

	* pdf/xpdf/pdf-document.cc (pdf_document_search_page_changed):
	ignore page offset here, to make search results independent of it,

	* shell/ev-view.c (expose_bin_window): but take offsets into
	account here. Bug #164932

	* pdf/xpdf/pdf-document.cc (pdf_document_get_link): divide by
	scale at the right time. Bug #164996

2005-01-22  Martin Kretzschmar  <martink@gnome.org>

	* pdf/xpdf/GlobalParams.cc: My 2005-01-05 change didn't actually
	fix the problem. Now I just removed the Adobe font names and hope
	that the URW fonts are always in outline format. Bug #164934

	* shell/ev-window.c (update_window_title): empty titles are
	useless, use filename in that case too.

	* NEWS: Add some content.

2005-01-21  Bryan Clark  <clarkbw@cvs.gnome.org>

	* TODO: added one more TODO item and a TODONE section :)

2005-01-21  Martin Kretzschmar  <martink@gnome.org>

	* ps/ps-document.h: add page_[xy]_offset fields.

	* ps/ps-document.c (ps_document_set_page_offset)
	(ps_document_render): Keep offset in consideration in a few
	places. Bug #164752 "postscript documents are not centered in
	window"

	* data/evince.desktop.in (X-GNOME-Bugzilla-Product):
	s/gpdf/evince/. Spotted by Stephane Loeuillet.

	* pixbuf/pixbuf-document.c (pixbuf_document_get_n_pages)
	(pixbuf_document_get_text, pixbuf_document_document_iface_init):
	stub out missing methods for complete EvDocument implementation.
	Fixes segfaults with Save A Copy and Copy actions.

	* ps/ps-document.c (ps_document_save, ps_document_get_text) 
	(ps_document_document_iface_init): ditto.
	
2005-01-21  Marco Pesenti Gritti  <marco@gnome.org>

	* data/.cvsignore:
	* data/Makefile.am:
	* data/evince.desktop.in:

	Add desktop file

2005-01-21  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_button_press_event),
	(ev_view_motion_notify_event):

	Make selection work in any direction

2005-01-21  Marco Pesenti Gritti  <marco@gnome.org>

	* TODO:
	* shell/ev-window.c: (set_short_labels), (ev_window_init):

	Use shorter labels for some of the toolbars items

2005-01-21  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:

	Check the links info is initialized before
	using it. Should fix a crash on startup.

2005-01-21  Martin Kretzschmar  <martink@gnome.org>

	* pixbuf/pixbuf-document.c
	(pixbuf_document_thumbnails_get_dimensions): force floating point
	division to calculate page_ratio. Fixes crash with landscape
	format pixbufs.

Thu Jan 20 18:56:35 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-view.c (ev_view_realize): make the bg color darker.

2005-01-20  Martin Kretzschmar  <martink@gnome.org>

	* shell/ev-view.c (set_document_page): unset has_selection when
	the page changes.
	(set_document_page): handle paper size changes when the page
	changes (test with Free Culture, page 2).

2005-01-20  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_size_request), (ev_view_realize),
	(expose_bin_window), (ev_view_class_init), (ev_view_init):

	Use normal style color for the widget background and
	draw a black box around the page.

2005-01-20  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:

	Keep offset in consideration in a few places

	* shell/ev-view.c: (expose_bin_window):

	Set the offsets so that the document is ever centered

2005-01-20  Bryan Clark  <clarkbw@cvs.gnome.org>

	* TODO: Added TODO items and finished off the first todo item

	* AUTHORS: Updated AUTHORS section with piece from gpdf file and
	reflect current authors

2005-01-20  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:
	* shell/ev-view.c: (ev_view_set_cursor),
	(ev_view_motion_notify_event), (document_changed_callback),
	(set_document_page):

	Show a wait cursor while the page is rendering

2005-01-20  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-sidebar-thumbnails.c:
	(ev_sidebar_tree_selection_changed),
	(ev_sidebar_thumbnails_select_page):
	* shell/ev-sidebar-thumbnails.h:
	* shell/ev-view.c: (ev_view_set_document), (ev_view_can_go_back),
	(ev_view_can_go_forward):
	* shell/ev-window.c: (ev_window_open_page),
	(ev_window_setup_document), (update_current_page),
	(view_page_changed_cb), (ev_window_init):
	* shell/ev-window.h:

	Ensure thumbnails selection, toolbar page control and
	current page are in sync.

2005-01-19  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/XRef.cc:

	Fix CAN-2005-0064

Wed Jan 19 01:10:57 2005  Jonathan Blandford  <jrb@redhat.com>

	* backend/Makefile.am:
	* backend/ev-document-links.h:
	* backend/ev-document-security.c: (ev_document_security_get_type),
	(ev_document_security_has_document_security),
	(ev_document_security_set_password):
	* backend/ev-document-security.h:
	* backend/ev-document.c: (ev_document_error_quark):
	* backend/ev-document.h:
	* data/Makefile.am:
	* data/evince-password.glade:
	* pdf/xpdf/pdf-document.cc:
	* shell/Makefile.am:
	* shell/ev-password.c: (ev_password_set_bad_password_label),
	(ev_window_password_entry_changed_cb), (ev_password_dialog_new),
	(ev_password_dialog_get_password),
	(ev_password_dialog_set_bad_pass):
	* shell/ev-password.h:
	* shell/ev-window.c: (ev_window_get_attribute),
	(ev_window_set_property), (update_action_sensitivity),
	(ev_window_is_empty), (mime_type_supported_by_gdk_pixbuf),
	(ev_window_setup_document), (ev_window_get_password),
	(ev_window_open), (ev_window_cmd_save_as),
	(using_postscript_printer), (ev_window_print),
	(find_not_supported_dialog), (ev_window_cmd_edit_find),
	(update_fullscreen_popup), (ev_window_fullscreen),
	(ev_window_unfullscreen), (ev_window_cmd_view_fullscreen),
	(ev_window_focus_out_cb), (ev_window_cmd_help_about),
	(menu_item_select_cb), (find_bar_search_changed_cb),
	(ev_window_dispose), (ev_window_init):

	Add initial support for password-supported dialogs.  This could be
	a lot cooler, but it'll do for now.

2005-01-18  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:
	* shell/ev-view.c: (status_message_from_link),
	(ev_view_set_status), (ev_view_set_cursor),
	(ev_view_motion_notify_event), (ev_view_init):
	* shell/ev-window.c: (view_status_changed_cb), (ev_window_init):

	Fix bugs in the links implementation and change cursor
	when hovering a link.

2005-01-17  Bryan Clark  <clarkbw@cvs.gnome.org>

	* viewer/.cvsignore: added cvsignore file for viewer directory

	* TODO: created TODO document

2005-01-14  Dave Malcolm  <dmalcolm@redhat.com>

	* shell/ev-view.h:
	* shell/ev-view.c (ev_view_can_go_back), (ev_view_can_go_forward):	
	new functions to help with implementation of sensitivity code
	* shell/ev-window.c (update_action_sensitivity): Fix sensitivity
	of all actions that might require it.  Fixes a crash when you
	click on the Zoom actions in a window lacking a document.

2005-01-13  Dave Malcolm  <dmalcolm@redhat.com>

	* shell/ev-window.c (update_action_sensitivity): Fix sensitivity
	of the Find action

2005-01-13  Marco Pesenti Gritti  <marco@gnome.org>

	* pixbuf/pixbuf-document.c: (pixbuf_document_get_link),
	(pixbuf_document_document_iface_init):
	* ps/ps-document.c: (ps_document_get_link),
	(ps_document_document_iface_init):
	* shell/ev-view.c: (ev_view_realize), (ev_view_button_press_event),
	(status_message_from_link), (ev_view_set_status),
	(ev_view_set_find_status), (ev_view_motion_notify_event),
	(ev_view_button_release_event), (ev_view_set_property),
	(ev_view_get_property), (ev_view_class_init), (ev_view_init),
	(ev_view_get_find_status_message), (update_find_results),
	(ev_view_get_status), (ev_view_get_find_status):
	* shell/ev-view.h:
	* shell/ev-window.c: (view_status_changed_cb),
	(view_find_status_changed_cb), (ev_window_init):

	View status message support, use it to show the links.
	Needs work...

2005-01-13  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_get_link):
	* backend/ev-document.h:
	* pdf/xpdf/pdf-document.cc:
	* shell/ev-application.c: (ev_application_open):
	* shell/ev-application.h:
	* shell/ev-sidebar-links.c: (selection_changed_cb):
	* shell/ev-view.c: (ev_view_button_release_event), (go_to_link),
	(ev_view_go_to_link):

	Add support for document links

2005-01-13  Anders Carlsson  <andersca@gnome.org>

	* shell/ev-page-action.c: (update_spin), (total_pages_changed_cb),
	(create_tool_item):
	Set the spin button limits correctly.
	
	* shell/ev-sidebar-thumbnails.c:
	(ev_sidebar_tree_selection_changed), (ev_sidebar_thumbnails_init):
	Support changing pages by clicking on the thumbnails.
	
2005-01-13  Jeff Muizelaar  <jeff@nit.ca>

	* pixbuf/pixbuf-document.c:
	(pixbuf_document_thumbnails_get_dimensions),
	(pixbuf_document_document_thumbnails_iface_init):

	implement get_dimensions

2005-01-13  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (ps_document_goto_page):

	Fix page switching on multipage documents

2005-01-12  Jeff Muizelaar  <jrmuizel@nit.ca>

	* pixbuf/pixbuf-document.c: (pixbuf_document_get_page_size):
	
	check for NULL before assigning to width and height parameters

2005-01-12  Jeff Muizelaar  <jeff@nit.ca>

	* pixbuf/pixbuf-document.c: (pixbuf_document_class_init),
	(pixbuf_document_set_property), (pixbuf_document_get_property):

	implement get/set properties

2005-01-12  Jeff Muizelaar  <jeff@nit.ca>

	* pdf/xpdf/pdf-document.cc: (pdf_info_dict_get_string):
	
	return NULL instead of "Unknown", letting the title get set to
	the filename when the pdf has no title.

2005-01-11  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ps-document.c: (ps_document_get_page_count),
	(ps_document_goto_page):

2005-01-11  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-history.c: (ev_history_get_property),
	(ev_history_set_property), (ev_history_class_init),
	(ev_history_add_page), (ev_history_set_current_index):
	* shell/ev-navigation-action.c: (ev_navigation_action_set_history),
	(activate_menu_item_cb), (new_history_menu_item), (build_menu),
	(ev_navigation_action_finalize):
	* shell/ev-navigation-action.h:
	* shell/ev-view.c: (ev_view_set_document), (ev_view_go_back),
	(ev_view_go_forward), (ev_view_get_find_status_message),
	(history_index_changed_cb), (ev_view_set_history):
	* shell/ev-view.h:
	* shell/ev-window.c: (update_total_pages), (ev_window_open),
	(update_current_page), (register_custom_actions):

	Implement history dropdowns

2005-01-11  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-history.c: (ev_history_init), (ev_history_add_link):
	* shell/ev-view.c: (ev_view_set_document), (ev_view_go_back),
	(ev_view_go_forward):
	* shell/ev-window.c: (register_custom_actions):

	Fix several history bugs

2005-01-11  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.ac: Add Â«nbÂ» to ALL_LINGUAS.

2005-01-10  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/Makefile.am:
	* backend/ev-bookmark.c:
	* backend/ev-bookmark.h:
	* backend/ev-document-bookmarks.c:
	* backend/ev-document-bookmarks.h:
	* backend/ev-document-links.c: (ev_document_links_get_type),
	(ev_document_links_has_document_links),
	(ev_document_links_begin_read), (ev_document_links_get_link),
	(ev_document_links_get_child), (ev_document_links_next),
	(ev_document_links_free_iter):
	* backend/ev-document-links.h:
	* backend/ev-link.c: (ev_link_type_get_type), (ev_link_get_title),
	(ev_link_set_title), (ev_link_get_uri), (ev_link_set_uri),
	(ev_link_get_link_type), (ev_link_set_link_type),
	(ev_link_get_page), (ev_link_set_page), (ev_link_get_property),
	(ev_link_set_property), (ev_window_dispose), (ev_link_init),
	(ev_link_class_init), (ev_link_new_title), (ev_link_new_page),
	(ev_link_new_external):
	* backend/ev-link.h:
	* pdf/xpdf/pdf-document.cc:
	* shell/Makefile.am:
	* shell/ev-application.c: (ev_application_open_link):
	* shell/ev-application.h:
	* shell/ev-history.c: (ev_history_add_link), (ev_history_add_page),
	(ev_history_get_link_nth):
	* shell/ev-history.h:
	* shell/ev-sidebar-bookmarks.c:
	* shell/ev-sidebar-bookmarks.h:
	* shell/ev-sidebar-links.c: (ev_sidebar_links_destroy),
	(ev_sidebar_links_class_init), (selection_changed_cb),
	(ev_sidebar_links_construct), (ev_sidebar_links_init),
	(links_page_num_func), (ev_sidebar_links_new), (stack_data_free),
	(do_one_iteration), (populate_links_idle),
	(ev_sidebar_links_clear_document), (ev_sidebar_links_set_document):
	* shell/ev-sidebar-links.h:
	* shell/ev-sidebar.c: (ev_sidebar_set_document):
	* shell/ev-view.c: (go_to_link), (ev_view_go_to_link),
	(go_to_index):
	* shell/ev-view.h:
	* shell/ev-window.c: (ev_window_open_link), (ev_window_init):
	* shell/ev-window.h:

	Rename bookmark to link, and use "Index" for the sidebar panel.

2005-01-09  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/Makefile.am:
	* shell/ev-application.c: (ev_application_open_bookmark):
	* shell/ev-application.h:
	* shell/ev-history.c: (ev_history_init), (free_links_list),
	(ev_history_finalize), (ev_history_class_init),
	(ev_history_add_link), (ev_history_add_page),
	(ev_history_get_link_nth), (ev_history_get_n_links),
	(ev_history_get_current_index), (ev_history_set_current_index),
	(ev_history_new):
	* shell/ev-history.h:
	* shell/ev-sidebar-bookmarks.c: (selection_changed_cb):
	* shell/ev-view.c: (ev_view_finalize), (ev_view_set_document),
	(set_document_page), (go_to_bookmark), (ev_view_go_to_bookmark),
	(go_to_index), (ev_view_go_back), (ev_view_go_forward),
	(ev_view_set_page):
	* shell/ev-view.h:
	* shell/ev-window.c: (ev_window_open_bookmark),
	(ev_window_cmd_go_back), (ev_window_cmd_go_forward),
	(goto_page_cb), (register_custom_actions):
	* shell/ev-window.h:

	Initial history implementation. Needs work.

2005-01-09  Martin Kretzschmar  <martink@gnome.org>

	* pdf/xpdf/GDKSplashOutputDev.cc (redraw): fix pixbuf data offset.

2005-01-09  Marco Pesenti Gritti  <marco@gnome.org>

	* cut-n-paste/recent-files/egg-recent-item.c:
	* cut-n-paste/recent-files/egg-recent-item.h:
	* cut-n-paste/recent-files/egg-recent-model.c:
	* cut-n-paste/recent-files/egg-recent-util.c:
	* cut-n-paste/recent-files/egg-recent-view-gtk.c:
	* cut-n-paste/recent-files/egg-recent-view.c:

	Update

2005-01-08  Martin Kretzschmar  <martink@gnome.org>

	* pdf/splash/Splash.cc (clear, drawPixel, drawSpan, xorSpan, getPixel)
	(fillGlyph, fillImageMask, drawImage):
	pdf/splash/SplashBitmap.cc (SplashBitmap, ~SplashBitmap, writePNMFile):
	pdf/splash/SplashTypes.h:
	pdf/xpdf/SplashOutputDev (startPage, getColor, imageSrc): implement RGB8
	packed mode for Splash.

	* pdf/xpdf/GDKSplashOutputDev.cc (GDKSplashOutputDev, redraw): use
	RGB8 packed mode, eliminates the pixbuf data creation loop.

	* shell/ev-print-job.c (ev_print_job_finalize)
	(ev_print_job_set_property, ev_print_job_get_property)
	(ev_print_job_set_gnome_print_job, ev_print_job_set_document)
	(ev_print_job_use_print_dialog_settings, idle_print_handler)
	(print_closure_finalize, ev_print_job_print): implement
	printing (for backends with EvPsExporter)

	* shell/ev_print_job.h: update prototypes.

	* shell/ev-window.c (ev_window_print): unref print job after
	printing.

	* shell/ev-view.c (ev_view_set_document): don't connect to "found"
	unless the document implements the EvDocumentFind interface.

2005-01-08  Satoru SATOH <ss@gnome.gr.jp>

	* configure.ac: Added ja to ALL_LINGUAS.

2005-01-07  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/pdf-document.cc:

	add a FIXME. We should probably not allocate
	a bookmark object every time

2005-01-07  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-application.c: (ev_application_open),
	(ev_application_open_bookmark):
	* shell/ev-application.h:
	
	Add a way to open bookmarks

	* backend/ev-bookmark.c: (ev_bookmark_get_uri),
	(ev_bookmark_set_uri), (ev_bookmark_get_property),
	(ev_bookmark_set_property), (ev_bookmark_class_init),
	(ev_bookmark_new_title), (ev_bookmark_new_link),
	(ev_bookmark_new_external):

	Support for external uris, better constructors.

	* backend/ev-bookmark.h:
	* pdf/xpdf/pdf-document.cc:
	* shell/ev-sidebar-bookmarks.c: (selection_changed_cb):

	Handle external uris

2005-01-07  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-sidebar-bookmarks.c: (selection_changed_cb),
	(ev_sidebar_bookmarks_construct), (do_one_iteration):

	Hook up bookmarks navigation

2005-01-07  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/Makefile.am:
	* backend/ev-bookmark.c: (ev_bookmark_type_get_type),
	(ev_bookmark_get_title), (ev_bookmark_set_title),
	(ev_bookmark_get_bookmark_type), (ev_bookmark_set_bookmark_type),
	(ev_bookmark_get_page), (ev_bookmark_set_page),
	(ev_bookmark_get_property), (ev_bookmark_set_property),
	(ev_window_dispose), (ev_bookmark_init), (ev_bookmark_class_init),
	(ev_bookmark_new):
	* backend/ev-bookmark.h:
	* backend/ev-document-bookmarks.c:
	(ev_document_bookmarks_get_bookmark):
	* backend/ev-document-bookmarks.h:
	* pdf/xpdf/pdf-document.cc:
	* shell/ev-sidebar-bookmarks.c: (do_one_iteration):

	Add a bookmark object to the backend and use it instead of get_values

2005-01-07  Marco Pesenti Gritti  <marco@gnome.org>

	* data/evince-ui.xml:

	Cleanup and add select all.

	* shell/ev-view.c: (ev_view_select_all),
	(ev_view_button_press_event):
	* shell/ev-view.h:
	* shell/ev-window.c: (ev_window_cmd_edit_select_all):

	Add select all.
	Clear selection on click.

Fri Jan  7 01:28:58 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar-thumbnails.c
	(ev_sidebar_thumbnails_set_document): forgot to unref the
	loading_icon.

Fri Jan  7 01:22:48 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar-thumbnails.c: fill in the thumbnails starting
	at the visible page, not just linearly.  This makes it look fast.

Thu Jan  6 18:48:11 2005  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document-misc.c
	(ev_document_misc_get_thumbnail_frame): fill in the thumbnail with
	white.
	* backend/ev-document-thumbnails.h: New interface to get the size
	of a page.

2005-01-06  Jeremy Katz  <katzj@redhat.com>

	* shell/Makefile.am (evince_SOURCES): Add ev-utils.[ch] so that
	make dist works

Wed Jan  5 15:38:28 2005  Jonathan Blandford  <jrb@redhat.com>

	* pdf/xpdf/pdf-document.cc (bitmap_to_pixbuf): bypass
	GDKSplashOutputDev and just use a normal SplashOutputDev.  Speeds
	things up a bit.

	* shell/ev-sidebar-thumbnail.c: start of some profiling code.

2005-01-05  Martin Kretzschmar  <martink@gnome.org>

	* pdf/xpdf/GlobalParams.cc (displayFontTabFc): match only outline
	fonts. Should fix font problems on systems that have the base
	fonts in bitmap format. Reported by James Henstridge
	<james@jamesh.id.au>.

2005-01-05  Marco Pesenti Gritti  <marco@gnome.org>

	* pdf/xpdf/Gfx.cc:
	* pdf/xpdf/GfxState.cc:

	Fix for CAN-2004-1125

2005-01-05  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_copy):
	* shell/ev-view.h:
	* shell/ev-window.c: (ev_window_cmd_edit_copy):

	Implement Edit->Copy

2005-01-05  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_get_text):
	* backend/ev-document.h:
	* pdf/xpdf/pdf-document.cc:
	* shell/ev-view.c: (ev_view_realize), (expose_bin_window),
	(ev_view_primary_get_cb), (ev_view_primary_clear_cb),
	(ev_view_update_primary_selection), (ev_view_button_press_event),
	(ev_view_motion_notify_event), (ev_view_button_release_event):

	Beginnings of clipboard support. Incomplete but primary sort
	of work.

2005-01-05  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_gdk_color_to_rgb), (draw_rubberband),
	(expose_bin_window):

	Nicer rubberband drawing, from GtkIconView.

2005-01-05  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_save):
	* backend/ev-document.h:
	* data/evince-ui.xml:
	* pdf/xpdf/pdf-document.cc:
	* shell/ev-window.c: (save_error_dialog), (ev_window_cmd_save_as):

	Implement "Save a copy..." menu item

2005-01-05  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_zoom):

	Queue a resize when zoom changes

Wed Jan  5 02:33:06 2005  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document-misc.[ch]: New misc file to do simple drop
	shadows.

	* pdf/xpdf/pdf-document.cc: use the drop shadows in both types of
	thumbnails..

Tue Jan  4 22:32:32 2005  Jonathan Blandford  <jrb@redhat.com>

	* pdf/xpdf/pdf-document.cc
	(pdf_document_thumbnails_get_page_pixbuf): poor man's dropshadow.

Tue Jan  4 21:25:05 2005  Jonathan Blandford  <jrb@redhat.com>

	* pdf/xpdf/pdf-document.cc: Do real thumbnailing of PDF files.
	It's slow, but I'll speed it up next!

2005-01-04  Jeff Muizelaar  <jrmuizel@nit.ca>

	* shell/main.c (load_files):

	use gnome_vfs_make_uri_from_shell_arg so that relative paths work
	from the command line and because it seems more appropriate.

2005-01-04  Marco Pesenti Gritti  <marco@gnome.org>

	* data/evince-ui.xml:
	* shell/ev-window.c: (update_action_sensitivity),
	(ev_window_cmd_go_page_up), (ev_window_cmd_go_page_down):

	s/next page/page down
	s/previous page/page up

2005-01-04  Marco Pesenti Gritti  <marco@gnome.org>

	* data/evince-ui.xml:

	Change the layout to match clarkbw design.

	* shell/Makefile.am:
	* shell/ev-navigation-action.c: (build_menu), (menu_activated_cb),
	(set_tooltip_cb), (connect_proxy), (ev_navigation_action_init),
	(ev_navigation_action_finalize),
	(ev_navigation_action_set_property),
	(ev_navigation_action_get_property),
	(ev_navigation_action_class_init):
	* shell/ev-navigation-action.h:

	Implement clarkbw toolbar navigation controls (incomplete)

	* shell/ev-page-action.c: (update_label), (update_spin),
	(value_changed_cb), (create_tool_item), (connect_proxy),
	(ev_page_action_init), (ev_page_action_finalize),
	(ev_page_action_set_property), (ev_page_action_get_property),
	(ev_page_action_set_current_page),
	(ev_page_action_set_total_pages), (ev_page_action_class_init):
	* shell/ev-page-action.h:

	Implement a page switcher in the toolbar

	* shell/ev-view.c: (ev_view_scroll_view):
	* shell/ev-window.c: (update_total_pages), (ev_window_open),
	(update_current_page), (view_page_changed_cb), (goto_page_cb),
	(register_custom_actions), (ev_window_init):

	Change page on PageUp/Down.

Tue Jan  4 03:22:56 2005  Jonathan Blandford  <jrb@redhat.com>

	* pdf/xpdf/pdf-document.cc
	(pdf_document_thumbnails_get_thumbnail): initial stab at
	implementing thumbnail support for pdfs.  It only does documents
	with precached pdfs now.

Mon Jan  3 17:22:25 2005  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar-thumbnails.c (do_one_iteration): move the
	thumbnail code into a time-based idle as well.  Also, turn off the
	shadow temporarily as it's really slow.

2005-01-03  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_class_init):
	* pdf/xpdf/pdf-document.cc:
	* shell/ev-window.c: (ev_window_open):

	Fix document title bugs and fallback to
	filename when not available.

2005-01-03  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_get_type),
	(ev_document_class_init), (ev_document_load),
	(ev_document_get_title):
	* backend/ev-document.h:
	* pdf/xpdf/pdf-document.cc:
	* ps/ps-document.c: (ps_document_set_property),
	(ps_document_get_property), (ps_document_class_init),
	(document_load):
	* ps/ps-document.h:
	* ps/ps.h:
	* shell/ev-window.c: (update_window_title), (ev_window_open),
	(ev_window_init):

	Initial support for document title. Not working yet.

2005-01-02  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_realize), (ev_view_button_press_event):

	Grab focus on the view when clicking it

2005-01-02  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-marshal.list:
	* shell/ev-view.c: (ev_view_realize), (add_scroll_binding),
	(ev_view_scroll_view), (ev_view_class_init), (ev_view_init):

	Add key bindings to the view. Now if the focus would work
	right...

2005-01-02  Marco Pesenti Gritti  <marco@gnome.org>

	* Makefile.am:
	* backend/Makefile.am:
	* data/Makefile.am:
	* dvi/Makefile.am:
	* dvi/dvilib/Makefile.am:
	* pdf/xpdf/Makefile.am:
	* po/POTFILES.in:
	* ps/Makefile.am:

	Fix distcheck

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* shell/ev-view.c: (ev_view_realize):

	Fix mouse wheel scrolling

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/Makefile.am:
	* ps/gstypes.h:
	* ps/gtkgs.c:
	* ps/gtkgs.h:
	* ps/ps-document.c: (catchPipe), (ps_document_init),
	(ps_document_class_init), (ps_document_cleanup),
	(ps_document_finalize), (send_ps), (ps_document_get_orientation),
	(set_up_page), (close_pipe), (is_interpreter_ready),
	(interpreter_failed), (output), (input), (start_interpreter),
	(stop_interpreter), (file_length), (file_readable),
	(check_filecompressed), (check_pdf), (compute_xdpi),
	(compute_ydpi), (compute_size), (ps_document_enable_interpreter),
	(ps_document_get_type), (ps_document_emit_error_msg),
	(document_load), (ps_document_next_page),
	(ps_document_get_current_page), (ps_document_get_page_count),
	(ps_document_goto_page), (ps_document_set_page_size),
	(ps_document_zoom_to_fit), (ps_document_set_zoom),
	(ps_document_load), (ps_document_get_n_pages),
	(ps_document_set_page), (ps_document_get_page),
	(ps_document_widget_event), (ps_document_set_target),
	(ps_document_set_scale), (ps_document_set_page_offset),
	(ps_document_get_page_size), (ps_document_render),
	(ps_document_document_iface_init):
	* ps/ps-document.h:
	* ps/ps.c:
	* shell/ev-window.c: (ev_window_open):

	Rename GtkGS to PSDocument

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_class_init):
	* ps/gtkgs.h:

	Some more leftover...

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_class_init), (gtk_gs_get_orientation),
	(output), (stop_interpreter), (gtk_gs_emit_error_msg),
	(gtk_gs_zoom_to_fit), (gtk_gs_set_zoom):
	* ps/gtkgs.h:

	Remove unused code and make a lot of stuff private

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gsdefaults.c: (gtk_gs_defaults_gconf_client),
	(gtk_gs_defaults_changed):
	* ps/gsdefaults.h:
	* ps/gtkgs.c:
	* ps/gtkgs.h:
	* ps/ps.h:

	Cleanup headers dependencies

2005-01-01  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/Makefile.am:
	* ps/ggvutils.c:
	* ps/ggvutils.h:
	* ps/gsdefaults.c: (gtk_gs_defaults_get_paper_sizes):
	* ps/gsdefaults.h:
	* ps/gtkgs.c: (file_length), (file_readable),
	(check_filecompressed), (check_pdf), (gtk_gs_load),
	(gtk_gs_get_postscript):

	Get rid of ggvutils

2004-12-31  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ggvutils.c:
	* ps/ggvutils.h:
	* ps/gsio.h:
	* ps/gtkgs.c: (gtk_gs_set_zoom):

	Cleanups

2004-12-31  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_set_zoom), (gtk_gs_set_zoom_mode):

	Ensure the page is rerendered when changing zoom

2004-12-31  Marco Pesenti Gritti  <marco@gnome.org>

	* backend/ev-document.c: (ev_document_base_init),
	(ev_document_changed):
	* backend/ev-document.h:

	Add a changed event that is emitted when the page content
	changes. This is necessary to deal with the fact that
	in ps backend rendering happen asycrounously.
	This makes the ps backend mostly work.

	* pdf/xpdf/pdf-document.cc:

	Emit changed event

	* ps/gtkgs.c: (set_up_page), (gtk_gs_widget_event),
	(ps_document_set_target):

	Emit changed event

	* shell/ev-view.c: (document_changed_callback),
	(ev_view_set_document), (ev_view_set_page):

	Redraw on the changed signal

2004-12-25  Raphael Higino  <raphaelh@cvs.gnome.org>

	* configure.ac: Added pt_BR to ALL_LINGUAS.

Fri Dec 24 00:48:44 2004  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document-bookmarks.c:
	(ev_document_bookmarks_get_child): *
	backend/ev-document-bookmarks.h: * pdf/xpdf/Makefile.am: *
	pdf/xpdf/pdf-document.cc: * pdf/xpdf/pdf-document.h: *
	shell/Makefile.am: * shell/ev-sidebar-bookmarks.c:
	(ev_sidebar_bookmarks_destroy),
	(ev_sidebar_bookmarks_class_init),
	(ev_sidebar_bookmarks_construct), (stack_data_free),
	(do_one_iteration), (populate_bookmarks_idle),
	(ev_sidebar_bookmarks_clear_document),
	(ev_sidebar_bookmarks_set_document): *
	shell/ev-sidebar-bookmarks.h: * shell/ev-sidebar.c:
	(ev_sidebar_add_page),
	(ev_sidebar_set_document): * shell/ev-window.c: (ev_window_open):
	Initial stab at a bookmarks sidebar.  It doesn't navigate yet, but
	it displays both the topics and the page numbers.

2004-12-23  Kristian HÃ¸gsberg  <krh@redhat.com>

	* shell/ev-window.c (ev_window_view_sidebar_cb): Hook up sidebar
	toggle.
	* shell/ev-window.c (toggle_entries): Set sidebar default value to
	visible.

2004-12-23  Adam Weinberger  <adamw@gnome.org>

	* configure.ac: Added en_CA to ALL_LINGUAS.

2004-12-23  Martin Kretzschmar  <martink@gnome.org>

	* ChangeLog: replace bottom of this ChangeLog (merged history of
	ggv and gpdf; where all paths were wrong and most of the files are
	not even in this tree) with ChangeLog (from arch) of the shell
	code.

2004-12-23  Havoc Pennington  <hp@redhat.com>

	* shell/ev-window.c: hook up potentially-questionable "find
	results status text" feature - something involving the sidebar or
	scrollbar or a continuous all-pages-on-giant-roll-of-paper-view
	might be better in the end.

	* shell/ev-view.c (ev_view_get_find_status_message): new function, 
	with corresponding signal when it should be updated

	* shell/eggfindbar.c (egg_find_bar_set_status_text): new function

2004-12-22  Havoc Pennington  <hp@redhat.com>

	* pdf/xpdf/pdf-document.cc (pdf_document_find_begin): make search
	find stuff on other pages, sort of (only returns one result on
	invisible pages, to show they have results; updates full results
	for a page when you view it). Currently repaints the current page
	every time a new result is found on any page, which isn't so nice.

2004-12-22  Havoc Pennington  <hp@redhat.com>

	* shell/ev-window.c (ev_window_cmd_edit_find): display an error if
	the document doesn't support find (better ideas?)
	(find_bar_search_changed_cb): handle missing document or document
	that doesn't support find

	* pdf/xpdf/pdf-document.cc: port to implement the new
	EvDocumentFindIface

	* backend/ev-document-find.c: create a new interface for searching

	* backend/ev-document.h, backend/ev-document.c: delete the find stuff

2004-12-23  Martin Kretzschmar  <martink@gnome.org>

	* pdf/xpdf/Makefile.am (libpdfdocument_la_LIBADD): add
	libevbackend.la.

	* shell/ev-window.c (ev_window_print): add GnomePrintJob to
	EvPrintJob constructor arguments.

	* backend/ev-ps-exporter.c, backend/ev-ps-exporter.h: interface
	for documents that can export PostScript (page by page).

	* backend/Makefile.am (libevbackend_la_SOURCES): add them.
	
	* pdf/xpdf/pdf-document.cc (pdf_document_ps_export_begin)
	(pdf_document_ps_export_do_page, pdf_document_ps_export_end)
	(pdf_document_ps_exporter_iface_init:
	Implement EvPSExporter.

	* pdf/xpdf/Makefile.am (libxpdf_la_SOURCES): build PSOutputDev.

2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* backend/Makefile.am:
	* backend/ev-document-thumbnails.c:
	(ev_document_thumbnails_get_type),
	(ev_document_thumbnails_get_thumbnail):
	* backend/ev-document-thumbnails.h:
	* pixbuf/pixbuf-document.c: (G_DEFINE_TYPE_WITH_CODE),
	(pixbuf_document_thumbnails_get_thumbnail),
	(pixbuf_document_document_thumbnails_iface_init):
	* shell/Makefile.am:
	* shell/ev-sidebar-thumbnails.c: (ev_sidebar_thumbnails_destroy),
	(ev_sidebar_thumbnails_class_init), (ev_sidebar_thumbnails_init),
	(populate_thumbnails), (ev_sidebar_thumbnails_set_document):
	* shell/ev-sidebar-thumbnails.h:
	* shell/ev-sidebar.c: (ev_sidebar_init), (ev_sidebar_add_page),
	(ev_sidebar_set_document):
	* shell/ev-utils.c: (gaussian), (create_blur_filter),
	(create_shadow), (ev_pixbuf_add_shadow):
	* shell/ev-utils.h:
	Add thumbnail support.
	
2004-12-22  Martin Kretzschmar  <martink@gnome.org>

	* shell/ev-window.c (ev_window_cmd_file_print, ev_window_print)
	(using_postscript_printer): Set up a print dialog for "PostScript
	injection" method.

	* shell/ev-print-job.h, shell/ev-print-job.c: stub classes for
	EvPrintJob.

	* shell/Makefile.am (evince_SOURCES): add ev-print-job.[ch]

2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_init), (set_up_page),
	(ps_document_set_target), (ps_document_get_page_size),
	(ps_document_render):
	* ps/gtkgs.h:

	Fix a few bugs

2004-12-22  Christian Rose  <menthos@menthos.com>

	* configure.ac: Added "sv" to ALL_LINGUAS.

Wed Dec 22 14:47:38 2004  Jonathan Blandford  <jrb@redhat.com>

	* backend/ev-document-bookmarks.[ch]: new interface to indicate
	document supports bookmarks.

2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/ggvutils.c: (ggv_file_readable):
	* ps/ggvutils.h:
	* ps/gtkgs.c: (check_filecompressed), (check_pdf),
	(gtk_gs_get_postscript):

	Remove unused utils

2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/gtkgs.c: (gtk_gs_init), (gtk_gs_class_init), (gtk_gs_cleanup),
	(gtk_gs_finalize), (gtk_gs_set_center), (set_up_page), (output),
	(start_interpreter), (compute_size), (gtk_gs_enable_interpreter),
	(gtk_gs_get_type), (gtk_gs_new), (gtk_gs_reload),
	(gtk_gs_emit_error_msg), (gtk_gs_disable_interpreter),
	(gtk_gs_load), (gtk_gs_goto_page), (gtk_gs_set_page_size),
	(gtk_gs_set_override_orientation), (gtk_gs_set_override_size),
	(gtk_gs_set_zoom), (gtk_gs_set_default_orientation),
	(gtk_gs_set_antialiasing), (ps_document_load),
	(ps_document_render):
	* ps/gtkgs.h:

	Another check point for the ps backend. Now I can get it to show
	pages!

Wed Dec 22 13:41:01 2004  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar.c (ev_sidebar_set_document): initial sidebar
	document setting code.

2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* shell/eggfindbar.c: (entry_activate_callback):
	Animate the next button when activate is pressed.
	
2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* shell/ev-window.c: (ev_window_cmd_edit_find),
	(update_fullscreen_popup), (ev_window_fullscreen),
	(ev_window_unfullscreen), (ev_window_state_event_cb),
	(ev_window_focus_out_cb), (find_bar_close_cb), (ev_window_init):
	Fix bugs in fullscreen code.
	
2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* Makefile.am:
	* configure.ac:
	* pixbuf/Makefile.am:
	* pixbuf/pixbuf-document.c: (G_DEFINE_TYPE_WITH_CODE),
	(pixbuf_document_load), (pixbuf_document_get_n_pages),
	(pixbuf_document_set_page), (pixbuf_document_get_page),
	(pixbuf_document_set_target), (pixbuf_document_set_scale),
	(pixbuf_document_set_page_offset), (pixbuf_document_get_page_size),
	(pixbuf_document_render), (pixbuf_document_begin_find),
	(pixbuf_document_end_find), (pixbuf_document_finalize),
	(pixbuf_document_class_init),
	(pixbuf_document_document_iface_init), (pixbuf_document_init):
	* pixbuf/pixbuf-document.h:
	* shell/Makefile.am:
	* shell/ev-application.c: (ev_application_open):
	* shell/ev-window.c: (mime_type_supported_by_gdk_pixbuf),
	(ev_window_open):
	Add pixbuf backend.
	
Tue Dec 21 21:45:43 2004  Soeren Sandmann  <sandmann@redhat.com>

	* Makefile.am: 
	* dvi/dvilib/Makefile.am:
	* dvi/Makefile.am:
	* configure.ac: Auto*ify dvi and dvi/dvilib

	* dvi/Makefile: Remove from CVS
	
	* dvi/dvilib/dl-pkfont.cc (unpack_bitmap): Fix uchar/uint
	confusion.

	* dvi/dvilib/dl-fontdefinition.{cc,hh}: New DviFontMap class
	
	* dvi/dvilib/dl-vffont.{cc,hh}: Many bugfixes to VF code.
	
2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* ps/Makefile.am:
	* ps/gtkgs.c: (gtk_gs_class_init), (gtk_gs_finalize),
	(gtk_gs_value_adjustment_changed), (compute_size),
	(gtk_gs_get_type), (gtk_gs_new), (gtk_gs_new_from_file),
	(gtk_gs_center_page), (gtk_gs_load), (gtk_gs_set_page_size),
	(gtk_gs_set_override_orientation), (gtk_gs_set_override_size),
	(gtk_gs_set_zoom), (gtk_gs_set_default_orientation),
	(gtk_gs_start_scroll), (gtk_gs_get_postscript),
	(gtk_gs_set_adjustments), (gtk_gs_set_available_size),
	(ps_document_load), (ps_document_get_n_pages),
	(ps_document_set_page), (ps_document_get_page),
	(ps_document_set_target), (ps_document_set_scale),
	(ps_document_set_page_offset), (ps_document_get_page_size),
	(ps_document_render), (ps_document_begin_find),
	(ps_document_end_find), (ps_document_document_iface_init):
	* ps/gtkgs.h:
	* shell/Makefile.am:
	* shell/ev-window.c: (ev_window_open):

	Some work to integrate gtkgs with EvDocument

2004-12-22  Anders Carlsson  <andersca@gnome.org>

	* shell/ev-window.c: (update_fullscreen_popup),
	(screen_size_changed_cb), (destroy_exit_fullscreen_popup),
	(exit_fullscreen_button_clicked_cb),
	(fullscreen_popup_size_request_cb), (ev_window_fullscreen),
	(ev_window_unfullscreen), (ev_window_cmd_view_fullscreen),
	(ev_window_state_event_cb), (ev_window_init):
	Add fullscreen support from Epiphany.
	
2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* data/ev-stock-zoom-fit-width.png: fit-width
	stock icon from gpdf.
	
	* shell/ev-stock-icons.[ch]: copied from gpdf.
	
	* shell/main.c: (main): init stock icons.
	
	* shell/ev-window.c: use the fit-width icon.
	
	* data/evince-ui.xml: add zooming toolbar items.

2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* shell/ev-view.c: 
	(ev_view_best_fit), (ev_view_fit_width): because
	get_page_size() returns the scaled page size, we
	need to calculate the scale factor relative to
	the previous scale factor. Should really just
	add get_real_page_size().

2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* shell/ev-view.[ch]:
	(ev_view_zoom), (ev_view_zoom_in), (ev_view_zoom_out),
	(ev_view_normal_size), (ev_view_best_fit), (ev_view_fit_width):
	add zooming.
	
	* shell/ev-window.c: (ev_window_cmd_view_zoom_in),
	(ev_window_cmd_view_zoom_out), (ev_window_cmd_view_normal_size),
	(ev_window_cmd_view_best_fit), (ev_window_cmd_view_page_width):
	hook it up.
	
	* pdf/xpdf/pdf-document.cc:
	(pdf_document_begin_find),
	(pdf_document_end_find): make static.

2004-12-22  Martin Kretzschmar  <martink@gnome.org>

	* pdf/xpdf/GlobalParams.h (setupBaseFontsFc): add prototype.

	* pdf/xpdf/GlobalParams.cc (displayFontTabFc): maps base font
	names to fontconfig patterns.
	(setupBaseFontsFc): setupBaseFonts reimplemented using fontconfig.

	* pdf/xpdf/pdf-document.cc (pdf_document_load): use
	setupBaseFontsFc.

2004-12-22  Marco Pesenti Gritti  <marco@gnome.org>

	* Makefile.am:
	* configure.ac:
	* ps/Makefile.am:
	* ps/ggvutils.c:
	* ps/ggvutils.h:
	* ps/gsdefaults.c:
	* ps/gsdefaults.h:
	* ps/gsio.c:
	* ps/gsio.h:
	* ps/gtkgs.c:
	* ps/gtkgs.h:
	* ps/ps.c:
	* ps/ps.h:

	Import ggv backend. Not hooked up yet.

2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* shell/main.c: (load_files), (main): load files
	from the command line.

2004-12-22  Mark McLoughlin  <mark@skynet.ie>

	* configure.ac: don't require bonobo.
	
	* cut-n-paste/recent-files/*: kill bonobo recent
	view.

	* shell/ev-window.c:
	(ev_window_is_empty): upd.
	(unable_to_load), (ev_window_open): load backend
	based on the mime type.

2004-12-22  Martin Kretzschmar  <martink@gnome.org>

	* backend/.cvsignore: ignore generated marshalers source.

	* shell/main.c (main): this is not epiphany.

2004-12-22  Havoc Pennington  <hp@redhat.com>

	* shell/ev-view.c (ev_view_set_document): connect to "found" signal
	(expose_bin_window): draw find highlights

	* shell/ev-window.c (find_bar_search_changed_cb): implement 
	
	* pdf/xpdf/pdf-document.cc (pdf_document_begin_find) 
	(pdf_document_end_find): implement this interface

	* backend/ev-document.c (ev_document_found): add this to emit
	signal

Tue Dec 21 23:57:37 2004  Owen Taylor  <otaylor@redhat.com>

	* data/evince-ui.xml: Add a few more toolbar items.

	* shell/ev-window.c: Hook up page navigation toolbar 
	items.

	* shell/ev-view.[ch]: add ev_view_set/get_page and 
	a page-changed signal.

	* backend/ev-document.{h,cc} pdf/xpdf/pdf-document.cc::
	Add ev_document_get_page().

	* shell/ev-window.c: Sensitize/desensitize navigation
	actions.

2004-12-21  Havoc Pennington  <hp@redhat.com>

	* backend/ev-backend-marshal.c,
	backend/ev-backend-marshalers.list, backend/Makefile.am: add
	marshaler-generator thingy. I'm sure there's a better way to do
	this in the modern world.

	* backend/ev-document.h (struct _EvDocumentIface): add begin_find,
	end_find methods and "found" signal.

	* configure.ac: find glib-genmarshal

Tue Dec 21 23:20:35 2004  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar.c: Construct an actual sidebar.
	* shell/ev-sidebar-bookmarks.[ch]:
	* shell/ev-sidebar-thumbnails.[ch]: Stub out sidebars.

Tue Dec 21 23:05:51 2004  Owen Taylor  <otaylor@redhat.com>

	* backend/ev-document.{h,cc} pdf/xpdf/pdf-document.cc:
	Redo size handling.
	
	* shell/ev-view.c: Track the size from the document.

Tue Dec 21 22:17:04 2004  Owen Taylor  <otaylor@redhat.com>

	* pdf/xpdf/pdf-document.cc (pdf_document_load): PDFDoc
	constructor assumes ownership of the string passed in.
	
	* shell/ev-window.c (ev_window_open): Destroy the error
	dialog once we've displayed it.

Tue Dec 21 21:58:56 2004  Owen Taylor  <otaylor@redhat.com>

	* pdf/xpdf/pdf-document.cc shell/ev-view.c: Hook things up 
	a bit, it works! (sort of)

	* pdf/xpdf/Makefile.am pdf/xpdf/pdf-document.cc:
	Move to .cc since we need to use C++ in the implementation.

	* shell/dummy.cc: Add a CC file to force evince
	to be linked as a C++ program.

Tue Dec 21 21:07:55 2004  Owen Taylor  <otaylor@redhat.com>

	* shell/ev-view.[ch]: Start of content-area widget.

	* shell/ev-window.c: Create a EvView, update it
	as we change documents.

	* shell/Makefile.am shell/ev-marshal.list: Add
	generated marshalers.

Tue Dec 21 20:28:11 2004  Jonathan Blandford  <jrb@redhat.com>

	* Makefile.am (SUBDIRS): move shell.

Tue Dec 21 19:28:55 2004  Owen Taylor  <otaylor@redhat.com>

	* pdf/{goo,fofi,splash,xpdf}/Makefile.am: Switch from
	.a to libtool convenience libraries.

	* shell/ev-window.c (ev_window_open): Hard code loading
	a PDF document.
	
	* backend/ev-document.h: Add a boolean return to load(),
	fix GError * to GError **.

	* pdf/xpdf/pdf-document.[ch] Makefile.am: Add a stub
	object for a PDF backend EvDocument.

Tue Dec 21 18:55:06 2004  SÃ¸ren Sandmann  <sandmann@redhat.com>

	* dvi/*: New directory with the beginning of a .dvi backend.

2004-12-21  Havoc Pennington  <hp@redhat.com>

	* shell/eggfindbar.c (egg_find_bar_init): change buttons to
	previous/next instead of back/forward

Tue Dec 21 18:26:24 2004  Owen Taylor  <otaylor@redhat.com>

	* backend/ev-document.[ch]: Fix a couple of problems so
	it compile.

Tue Dec 21 18:20:40 2004  Owen Taylor  <otaylor@redhat.com>

	* viewer/* backend/* configure.ac Makefile.am: Move viewer directory 
	to backend/ directory, rename EvViewer to EvDocument.

2004-12-21  Havoc Pennington  <hp@redhat.com>

	* shell/ev-window.c: hook up the find bar widget; now we just need
	a document to find things in

	* shell/eggfindbar.c: a find bar widget

Tue Dec 21 17:20:16 2004  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-sidebar.[ch]: initial sidebar boilerplate.

Tue Dec 21 16:30:58 2004  Owen Taylor  <otaylor@redhat.com>

	* pdf/**: Import of xpdf code from gpdf. 

	* pdf/xpdf/xpdfconfig.h: Move the non-config.h config.h to xpdfconfig.h

	* pdf/splash/SplashFTFont.{cc,h} pdf/splash/SplashFTFont.h
	pdf/splash/SplashFTFontEngine.h pdf/splash/SplashFTFontFile.h: 
	Fix FreeType includes.

	* pdf/xpdf/{Error.h GnomeVFSStream.cc ImageOutputDev.cc PDFDoc.cc\
	pdffonts.cc pdfimages.cc pdfinfo.cc pdftoppm.cc pdftops.cc
	pdftotext.cc PSOutputDev.cc PSOutputDev.h SplashOutputDev.h
	Stream.cc TextOutputDev.cc XPDFApp.cc xpdf.cc XPDFViewer.cc
	pdf/xpdf/Error.h PSOutputDev.h SplashOutputDev.h}:
	Include xpdfconfig.h
	
Tue Dec 21 16:08:17 2004  Jonathan Blandford  <jrb@redhat.com>

	* shell/ev-window.c (ev_window_dispose): dispose can be called
	multiple times.

2004-12-21  Havoc Pennington  <hp@redhat.com>

	* shell/ev-window.c (ev_window_init): set title to Document Viewer
	rather than Evince

	* data/evince-ui.xml, shell/ev-window.c: add a bunch of stub menu
	items; really they should be synced with the strings, etc. from
	current gpdf, but just getting the boring typing out of the way	

2004-12-21  Marco Pesenti Gritti  <marco@gnome.org>

	* po/POTFILES.in:
	* shell/ev-application.c: (window_destroy_cb):
	* shell/ev-window.c:
	* shell/main.c: (main):

	Actually show the window...

2004-12-21  Marco Pesenti Gritti  <marco@gnome.org>

	* Makefile.am:
	* shell/Makefile.am:
	* shell/ev-application.c: (ev_application_class_init):
	* shell/ev-window.c: (ev_window_dispose), (ev_window_class_init):

	Make it build again

2004-12-21  Marco Pesenti Gritti  <marco@gnome.org>

	Import to gnome cvs.
	
	* Remove copies of gpdf and ggv trees.
	* Rip out all the recursive configure code.
	* Remove bonobo machinery.
	* viewer/*: GInterfaces that backends should/can implement.

2004-11-09  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_cmd_help_about): fix "documentors"
	typo

2004-10-28  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-application.c (EV_APPLICATION_GET_PRIVATE)
	(ev_application_finalize, ev_application_class_init)
	(ev_application_init): use GType instance private data for priv.
    
	* shell/ev-window.c (EV_WINDOW_GET_PRIVATE)
	(ev_window_finalize, ev_window_class_init)
	(ev_window_init): ditto.

2004-10-27  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-application.c (ev_application_new_window): make public
	(ev_application_show_initial_window): kill.
    
	* shell/ev-application.h: update prototypes.
    
	* shell/main.cc (main): inline ev_application_show_initial_window.

2004-10-27  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-application.c (ev_application_new_window): impl.
	(ev_application_show_initial_window): use it.
	(is_window_empty, ev_application_get_empty_window): returns an
	existing empty window or a new one.
	(ev_application_open): from ev_window_cmd_file_open.
    
	* shell/ev-application.h: update prototypes
    
	* shell/ev-window.c (ev_window_is_empty): impl.
	(ev_window_open): make public.
	(ev_window_cmd_file_open): use ev_application_open
    
	* shell/ev-window.h: update prototypes, remove unused.

2004-10-26  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_destroy, ev_window_class_init):
	move destroy handler out of here...
    
	* shell/ev-application.c, shell/ev-application.h: ...into this new
	class. Also handles initial window creation.
    
	* shell/main.cc (main): use EvApplication to create initial
	window.

2004-10-26  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* Makefile.am (SUBDIRS): add cut-n-paste
    
	* cut-n-paste/Makefile.am: add
    
	* configure.ac: generate Makefiles in cut-n-paste

2004-10-26  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_dispose): new, unref the ui_manager
	(ev_window_class_init): install ev_window_dispose.

2004-10-25  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.h, shell/ev-window.c: replace gchar with
	char (gchar looks stupid).

2004-10-25  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* po/de.po: updated German translation.

2004-10-25  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: add more pkg-config library checks for gnome-vfs,
	bonobo etc.
    
	* gpdf/configure.in: temporarily disable libpaper
	checks. Otherwise I'd have to add the checks for the shell, too.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_cmd_file_open): add ps+pdf, ps, pdf
	and * file filters to the file choose.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* po/de.po: Updated German translation.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c: use "S" as mnemonic for Statusbar.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* data/evince-ui.xml: add View->Toolbar and View->Statusbar.
    
	* shell/ev-window.c (menu_item_select_cb, menu_item_select_cb)
	(ev_window_init): implement those menuitems.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* data/evince-ui.xml: add a toolbar (with FileOpen action)
    
	* shell/ev-window.c (ev_window_init): use the toolbar.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (ev_window_init): use menu translations

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: add "de" to ALL_LINGUAS.
    
	* po/de.po: add German translation.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* Makefile.am (SUBDIRS): add po
    
	* configure.ac: check intltool, glib-gettext etc, generate
	po/Makefile.in
    
	* po, po/POTFILES.in, po/POTFILES.skip: new.

2004-10-24  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/Makefile.am (INCLUDES): define GNOMELOCALEDIR which we
	already use (#ifdef ENABLE_NLS)
    
	* shell/ev-window.c (ev_window_cmd_help_about): fix two star
	pointer indirection thinko.
    
	* shell/main.c: include gi18n.h for bindtextdomain etc.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c (menu_item_select_cb, menu_item_deselect_cb)
	(connect_proxy_cb, disconnect_proxy_cb, ev_window_init): show
	tooltips for menu items in the statusbar.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac, data/Makefile.am, shell/Makefile.am: use
	pkgdatadir drop UIDIR

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* data/evince-ui.xml: Add File->Open menu item
    
	* shell/ev-window.c (ev_window_cmd_file_open): impl. (shows a file
	chooser), hook it up in the ui manager.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c: fix Help->About tooltip.

2004-10-23 Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: set CFLAGS for libevprivate.
    
	* lib/ev-stock-icons.h, lib/ev-stock-icons.c: stock icon
	definitions, factory etc.
    
	* lib/Makefile.am: build libevprivate.a (only stock icon code).
    
	* shell/Makefile.am: link against libevprivate.a.
    
	* shell/ev-window.c (entries): add stock icon to Help->About.
    
	* shell/main.c (main): init stock icon code.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* lib/recent-files: egg recent files code
    
	* lib/Makefile.am: add.
    
	* Makefile.am: add lib subdir.
    
	* configure.ac: gen. lib/Makefile and lib/recent-files/Makefile,
	set CFLAGS for recent-files.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: disable -ansi and -pedantic gcc flags. They
	disable POSIX stuff in stdio.h, but egg-recent uses them.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>	

	* configure.ac: add --disable-deprecated flag (defaults to on in
	"cvs" builds).
    
	* shell/Makefile.am (INCLUDES): use it.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/main.c: add missing #include.
    
	* shell/ev-window.c: fix for pedantic gcc.
	(ev_window_cmd_help_about): split license into paragraphs for
	translators and pedantic compilers.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac: add more warning flags if compiling with gcc from
	cvs (or explicitly requested with --enable-more-warnings).

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* data/evince-ui.xml: add File and File->Close menu.
    
	* shell/ev-window.c (ev_window_cmd_file_close_window): impl.
	(ev_window_destroy): quit after destroy.
	(ev_window_class_init): override GtkObject::destroy.
	(entries): install close_window callback.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* Makefile.am (SUBDIRS): add data subdir.
    
	* configure.ac (UIDIR): gen data/Makefile, define UIDIR.  Require
	gtk+ 2.5.0 for GtkAboutDialog.
    
	* data/Makefile.am, data/evince-ui.xml: add, ui definition for the
	main window.
    
	* shell/Makefile.am (INCLUDES): propagate UIDIR definition.
    
	* shell/ev-window.c (ev_window_init): create a menubar, using a ui
	manager.
	(ev_window_cmd_help_about): about command, using GtkAboutDialog.

2004-10-23  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/ev-window.c, shell/ev-window.h: Created an EvWindow class.

2004-10-22  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/main.c: make it a trivial gtk+ program, adjust configure.ac

2004-10-22  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* shell/*: Added shell directory boilerplate, build it.

2004-10-22  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* configure.ac, Makefile.am: Added top-level configure.ac and
	Makefile.am
